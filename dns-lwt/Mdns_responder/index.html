<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mdns_responder (dns-lwt.Mdns_responder)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">dns-lwt</a> &#x00BB; Mdns_responder</nav><h1>Module <code>Mdns_responder</code></h1><p>Multicast DNS (RFC 6762) Responder.</p><p>This is roughly the mDNS equivalent of Dns_server, in that it accepts mDNS query packets and responds with the matching records from a zone file.</p><p>The simplest usage is with shared resource records only, which requires the following steps:</p><ol><li>Create a module from a zone buffer using the &quot;Make&quot; functor.</li><li>Call the module's &quot;announce&quot; function to announce the records.</li><li>After announcement completes, call the &quot;process&quot; function for each received packet.</li></ol><p>The use of unique resource records requires alternative steps:</p><ol><li>Create a module from a zone buffer using the &quot;Make&quot; functor.</li><li>Call &quot;add_unique_hostname&quot; to add the a unique &quot;A&quot; record.</li><li>Call the module's &quot;first_probe&quot; function to probe for uniqueness of the hostname. The name will be changed to something unique in the event of a conflict.</li><li>After probing completes, call the module's &quot;announce&quot; function.</li><li>After announcement completes, call the &quot;process&quot; function for each received packet.</li></ol><p>As per RFC 6762 section 9, if at any time the responder observes a response that conflicts with a record that was previously already confirmed as unique, it restarts the probing sequence. Therefore, it is necessary to invoke the &quot;stop_probe&quot; function to shut down the responder.</p></header><dl><dt class="spec type" id="type-ip_endpoint"><a href="#type-ip_endpoint" class="anchor"></a><code><span class="keyword">type</span> ip_endpoint</code><code> = Ipaddr.V4.t * int</code></dt><dd><p>An endpoint address consisting of an IPv4 address and a UDP port number.</p></dd></dl><dl><dt class="spec module-type" id="module-type-TRANSPORT"><a href="#module-type-TRANSPORT" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-TRANSPORT/index.html">TRANSPORT</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Encapsulates the dependencies that the responder requires for performing I/O.</p></dd></dl><dl><dt class="spec module" id="module-Make"><a href="#module-Make" class="anchor"></a><code><span class="keyword">module</span> <a href="Make/index.html">Make</a> : <span class="keyword">functor</span> (<a href="Make/argument-1-Transport/index.html">Transport</a> : <a href="index.html#module-type-TRANSPORT">TRANSPORT</a>) <span>&#45;&gt;</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Creates an mDNS responder module given a module that provides I/O functions.</p></dd></dl></div></body></html>