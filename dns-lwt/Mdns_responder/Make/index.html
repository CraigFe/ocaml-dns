<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (dns-lwt.Mdns_responder.Make)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">dns-lwt</a> &#x00BB; <a href="../index.html">Mdns_responder</a> &#x00BB; Make</nav><h1>Module <code>Mdns_responder.Make</code></h1><p>Creates an mDNS responder module given a module that provides I/O functions.</p></header><h3 class="heading">Parameters</h3><dl><code><a href="argument-1-Transport/index.html">Transport</a> : <a href="../index.html#module-type-TRANSPORT">TRANSPORT</a></code></dl><h3 class="heading">Signature</h3><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>t</code></dt><dd><p>The type of an mDNS responder instance.</p></dd></dl><dl><dt class="spec value" id="val-of_zonebufs"><a href="#val-of_zonebufs" class="anchor"></a><code><span class="keyword">val </span>of_zonebufs : string list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Creates a responder by parsing a list of zone buffer strings.</p></dd></dl><dl><dt class="spec value" id="val-of_zonebuf"><a href="#val-of_zonebuf" class="anchor"></a><code><span class="keyword">val </span>of_zonebuf : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Creates a responder by parsing a zone buffer string, which is typically loaded from a zone file.</p></dd></dl><dl><dt class="spec value" id="val-of_db"><a href="#val-of_db" class="anchor"></a><code><span class="keyword">val </span>of_db : <a href="../../../dns/Dns/Loader/index.html#type-db">Dns.Loader.db</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Creates a responder from a previously loaded DNS database.</p></dd></dl><dl><dt class="spec value" id="val-add_unique_hostname"><a href="#val-add_unique_hostname" class="anchor"></a><code><span class="keyword">val </span>add_unique_hostname : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../dns/Dns/Name/index.html#type-t">Dns.Name.t</a> <span>&#45;&gt;</span> ?&#8288;ttl:int32 <span>&#45;&gt;</span> Ipaddr.V4.t <span>&#45;&gt;</span> unit</code></dt><dd><p>Adds an A resource record that is intended to be unique on the local link. The responder will only include this record in responses after it has been confirmed as unique by probing, which is initiated by calling &quot;first_probe&quot;.</p></dd></dl><dl><dt class="spec value" id="val-first_probe"><a href="#val-first_probe" class="anchor"></a><code><span class="keyword">val </span>first_probe : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p>Initiates the first probe sequence to verify ownership of any unique records. If no unique records have been added then this function will do nothing.</p></dd></dl><dl><dt class="spec value" id="val-announce"><a href="#val-announce" class="anchor"></a><code><span class="keyword">val </span>announce : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> repeat:int <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p>Initiates the announcement sequence which sends unsolicited responses for confirmed unique records and for shared records.</p></dd></dl><dl><dt class="spec value" id="val-process"><a href="#val-process" class="anchor"></a><code><span class="keyword">val </span>process : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> src:<a href="../index.html#type-ip_endpoint">ip_endpoint</a> <span>&#45;&gt;</span> dst:<a href="../index.html#type-ip_endpoint">ip_endpoint</a> <span>&#45;&gt;</span> Cstruct.t <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p>Processes a received mDNS UDP datagram. The main purpose of this function is to send responses to mDNS queries, but it also parses responses to detect conflicts with unique records.</p></dd></dl><dl><dt class="spec value" id="val-stop_probe"><a href="#val-stop_probe" class="anchor"></a><code><span class="keyword">val </span>stop_probe : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p>Call this function to permanently stop the probe thread, to shut down the responder.</p></dd></dl><dl><dt class="spec value" id="val-trie"><a href="#val-trie" class="anchor"></a><code><span class="keyword">val </span>trie : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../dns/Dns/Trie/index.html#type-dnstrie">Dns.Trie.dnstrie</a></code></dt><dd><p>Returns the trie that the responder uses internally to store RRs.</p></dd></dl></div></body></html>